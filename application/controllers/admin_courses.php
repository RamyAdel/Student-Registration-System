<?phpclass admin_courses extends CI_Controller {    public function __construct()    {        parent::__construct();        if(!$this->session->userdata('is_logged_in')){            redirect('login');        }    }    public function courses_index()    {        $data['coursescs'] = $this->courses_model->get_coursescs();        $data['coursesba'] = $this->courses_model->get_coursesba();        $data['coursesit'] = $this->courses_model->get_coursesit();        $usernamex = $this->session->userdata('user_name');        $data['us'] = $this->Admin_model->get_user2($usernamex);        $data['main_content'] = 'admin/courses/list';        $this->load->view('admin/includes/template', $data);    }    public function courses_plan()    {        $data['coursescs'] = $this->courses_model->get_coursescs();        $data['coursescecsis'] = $this->courses_model->get_coursescecsis();        $data['coursescecs'] = $this->courses_model->get_coursescecs();        $data['coursesnet'] = $this->courses_model->get_coursesnet();        $data['coursesbio'] = $this->courses_model->get_coursesbio();        $data['courseschem']=$this->courses_model->get_courseschem();        $data['coursesarch']=$this->courses_model->get_coursesarch();        $data['coursesciv']=$this->courses_model->get_coursesciv();        $data['coursesele']=$this->courses_model->get_coursesele();        $data['coursesBusiness']=$this->courses_model->get_coursesBusiness();        $usernamex = $this->session->userdata('user_name');        $data['us'] = $this->Admin_model->get_user2($usernamex);        $data['main_content'] = 'admin/courses/plan';        $this->load->view('admin/includes/template', $data);    }    public function courses_drop()    {        $id = $this->uri->segment(2);        $id2 = $this->uri->segment(3);        $courses = $this->courses_model->get_course_by_id($id2);        $data_to_store2 = array(                    'enrolled' => $courses['0']['enrolled'] -1,                    'seatleft' => $courses['0']['seatleft'] +1,                );        $this->courses_model->update_course($id2, $data_to_store2);        $this->courses_model->drop_course($id);        redirect('courseload');    }    public function courses_i()    {        $id = $this->uri->segment(2);        $uuu = $this->session->userdata('user_name');        $data['val'] = $this->courses_model->coursevalidate($id, $uuu);        $data['trans'] = $this->courses_model->transvalidate($id, $uuu);        if ($this->input->server('REQUEST_METHOD') === 'POST')        {                $data_to_store = array(                    'advisor' => $this->input->post('advisor'),                    'course' => $this->uri->segment(2),                    'student' => $this->session->userdata('user_name'),                );                $data_to_store2 = array(                    'enrolled' => $this->input->post('enrolled') +1,                    'seatleft' => $this->input->post('seatleft') -1,                );                if($this->courses_model->store_courseload($data_to_store)){                   $this->courses_model->update_course($id, $data_to_store2);                    redirect('courseload');                }else{                    $data['flash_message'] = FALSE;                }        }        $data['courses'] = $this->courses_model->get_course_by_id($id);        $data['main_content'] = 'admin/courses/i';        $this->load->view('admin/includes/template', $data);    }    public function transcript()    {        $id = $this->uri->segment(2);        $usernamex = $this->session->userdata('user_name');        $data['courses'] = $this->courses_model->get_course_by_user($usernamex);        $data['userxx'] = $this->Admin_model->get_user2($usernamex);        $data['trans11'] = $this->courses_model->get_trans_1_1($usernamex);        $data['trans12'] = $this->courses_model->get_trans_1_2($usernamex);        $data['trans21'] = $this->courses_model->get_trans_2_1($usernamex);        $data['trans22'] = $this->courses_model->get_trans_2_2($usernamex);        $data['trans31'] = $this->courses_model->get_trans_3_1($usernamex);        $data['trans32'] = $this->courses_model->get_trans_3_2($usernamex);        $data['trans41'] = $this->courses_model->get_trans_4_1($usernamex);        $data['trans42'] = $this->courses_model->get_trans_4_2($usernamex);        $data['main_content'] = 'admin/courses/transcript';        $this->load->view('admin/includes/template', $data);    }    public function transcriptprint()    {        $id = $this->uri->segment(2);        $usernamex = $this->session->userdata('user_name');        $data['courses'] = $this->courses_model->get_course_by_user($usernamex);        $data['userxx'] = $this->Admin_model->get_user2($usernamex);        $data['trans11'] = $this->courses_model->get_trans_1_1($usernamex);        $data['trans12'] = $this->courses_model->get_trans_1_2($usernamex);        $data['trans21'] = $this->courses_model->get_trans_2_1($usernamex);        $data['trans22'] = $this->courses_model->get_trans_2_2($usernamex);        $data['trans31'] = $this->courses_model->get_trans_3_1($usernamex);        $data['trans32'] = $this->courses_model->get_trans_3_2($usernamex);        $data['trans41'] = $this->courses_model->get_trans_4_1($usernamex);        $data['trans42'] = $this->courses_model->get_trans_4_2($usernamex);        $data['main_content'] = 'admin/courses/transcriptprint';        $this->load->view('admin/includesprint/template', $data);    }    public function courseload()    {        $id = $this->uri->segment(2);        $usernamex = $this->session->userdata('user_name');        $data['courses'] = $this->courses_model->get_courseload_by_user($usernamex);        $data['main_content'] = 'admin/courses/courseload';        $this->load->view('admin/includes/template', $data);    }}